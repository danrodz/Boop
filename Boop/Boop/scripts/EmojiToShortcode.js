/**
{
	"api":1,
	"name":"Emoji to Shortcode",
	"description":"Converts emoji to shortcodes (ðŸ˜€ â†’ :smile:)",
	"author":"danrodz",
	"icon":"bolt",
	"tags":"emoji,shortcode,encode"
}
**/

function main(input) {
	const emojiMap = {
		'ðŸ˜€': ':grinning:',
		'ðŸ˜ƒ': ':smile:',
		'ðŸ˜„': ':smiley:',
		'ðŸ˜': ':grin:',
		'ðŸ˜†': ':laughing:',
		'ðŸ˜…': ':sweat_smile:',
		'ðŸ¤£': ':rofl:',
		'ðŸ˜‚': ':joy:',
		'ðŸ™‚': ':slightly_smiling_face:',
		'ðŸ™ƒ': ':upside_down_face:',
		'ðŸ˜‰': ':wink:',
		'ðŸ˜Š': ':blush:',
		'ðŸ˜‡': ':innocent:',
		'ðŸ¥°': ':smiling_face_with_three_hearts:',
		'ðŸ˜': ':heart_eyes:',
		'ðŸ¤©': ':star_struck:',
		'ðŸ˜˜': ':kissing_heart:',
		'ðŸ˜—': ':kissing:',
		'ðŸ˜š': ':kissing_closed_eyes:',
		'ðŸ˜™': ':kissing_smiling_eyes:',
		'ðŸ¥²': ':smiling_face_with_tear:',
		'ðŸ˜‹': ':yum:',
		'ðŸ˜›': ':stuck_out_tongue:',
		'ðŸ˜œ': ':stuck_out_tongue_winking_eye:',
		'ðŸ¤ª': ':zany_face:',
		'ðŸ˜': ':stuck_out_tongue_closed_eyes:',
		'ðŸ¤‘': ':money_mouth_face:',
		'ðŸ¤—': ':hugs:',
		'ðŸ¤­': ':hand_over_mouth:',
		'ðŸ¤«': ':shushing_face:',
		'ðŸ¤”': ':thinking:',
		'ðŸ¤': ':zipper_mouth_face:',
		'ðŸ¤¨': ':raised_eyebrow:',
		'ðŸ˜': ':neutral_face:',
		'ðŸ˜‘': ':expressionless:',
		'ðŸ˜¶': ':no_mouth:',
		'ðŸ˜': ':smirk:',
		'ðŸ˜’': ':unamused:',
		'ðŸ™„': ':roll_eyes:',
		'ðŸ˜¬': ':grimacing:',
		'ðŸ¤¥': ':lying_face:',
		'ðŸ˜Œ': ':relieved:',
		'ðŸ˜”': ':pensive:',
		'ðŸ˜ª': ':sleepy:',
		'ðŸ¤¤': ':drooling_face:',
		'ðŸ˜´': ':sleeping:',
		'ðŸ˜·': ':mask:',
		'ðŸ¤’': ':face_with_thermometer:',
		'ðŸ¤•': ':face_with_head_bandage:',
		'ðŸ¤¢': ':nauseated_face:',
		'ðŸ¤®': ':vomiting_face:',
		'ðŸ¤§': ':sneezing_face:',
		'ðŸ¥µ': ':hot_face:',
		'ðŸ¥¶': ':cold_face:',
		'ðŸ˜µ': ':dizzy_face:',
		'ðŸ¤¯': ':exploding_head:',
		'ðŸ˜Ž': ':sunglasses:',
		'ðŸ¤“': ':nerd_face:',
		'ðŸ§': ':monocle_face:',
		'ðŸ˜•': ':confused:',
		'ðŸ˜Ÿ': ':worried:',
		'ðŸ™': ':slightly_frowning_face:',
		'ðŸ˜®': ':open_mouth:',
		'ðŸ˜¯': ':hushed:',
		'ðŸ˜²': ':astonished:',
		'ðŸ˜³': ':flushed:',
		'ðŸ¥º': ':pleading_face:',
		'ðŸ˜¦': ':frowning:',
		'ðŸ˜§': ':anguished:',
		'ðŸ˜¨': ':fearful:',
		'ðŸ˜°': ':cold_sweat:',
		'ðŸ˜¥': ':disappointed_relieved:',
		'ðŸ˜¢': ':cry:',
		'ðŸ˜­': ':sob:',
		'ðŸ˜±': ':scream:',
		'ðŸ˜–': ':confounded:',
		'ðŸ˜£': ':persevere:',
		'ðŸ˜ž': ':disappointed:',
		'ðŸ˜“': ':sweat:',
		'ðŸ˜©': ':weary:',
		'ðŸ˜«': ':tired_face:',
		'ðŸ¥±': ':yawning_face:',
		'ðŸ˜¤': ':triumph:',
		'ðŸ˜¡': ':rage:',
		'ðŸ˜ ': ':angry:',
		'ðŸ¤¬': ':cursing_face:',
		'ðŸ˜ˆ': ':smiling_imp:',
		'ðŸ‘¿': ':imp:',
		'ðŸ’€': ':skull:',
		'â˜ ï¸': ':skull_and_crossbones:',
		'ðŸ’©': ':poop:',
		'ðŸ¤¡': ':clown_face:',
		'ðŸ‘¹': ':japanese_ogre:',
		'ðŸ‘º': ':japanese_goblin:',
		'ðŸ‘»': ':ghost:',
		'ðŸ‘½': ':alien:',
		'ðŸ‘¾': ':space_invader:',
		'ðŸ¤–': ':robot:',
		'ðŸŽƒ': ':jack_o_lantern:',
		'ðŸ˜º': ':smiley_cat:',
		'ðŸ˜¸': ':smile_cat:',
		'ðŸ˜¹': ':joy_cat:',
		'ðŸ˜»': ':heart_eyes_cat:',
		'ðŸ˜¼': ':smirk_cat:',
		'ðŸ˜½': ':kissing_cat:',
		'ðŸ™€': ':scream_cat:',
		'ðŸ˜¿': ':crying_cat_face:',
		'ðŸ˜¾': ':pouting_cat:',
		'â¤ï¸': ':heart:',
		'ðŸ§¡': ':orange_heart:',
		'ðŸ’›': ':yellow_heart:',
		'ðŸ’š': ':green_heart:',
		'ðŸ’™': ':blue_heart:',
		'ðŸ’œ': ':purple_heart:',
		'ðŸ–¤': ':black_heart:',
		'ðŸ¤': ':white_heart:',
		'ðŸ¤Ž': ':brown_heart:',
		'ðŸ’”': ':broken_heart:',
		'â£ï¸': ':heavy_heart_exclamation:',
		'ðŸ’•': ':two_hearts:',
		'ðŸ’ž': ':revolving_hearts:',
		'ðŸ’“': ':heartbeat:',
		'ðŸ’—': ':heartpulse:',
		'ðŸ’–': ':sparkling_heart:',
		'ðŸ’˜': ':cupid:',
		'ðŸ’': ':gift_heart:',
		'ðŸ’Ÿ': ':heart_decoration:',
		'â˜®ï¸': ':peace_symbol:',
		'âœï¸': ':latin_cross:',
		'â˜ªï¸': ':star_and_crescent:',
		'ðŸ•‰ï¸': ':om:',
		'â˜¸ï¸': ':wheel_of_dharma:',
		'âœ¡ï¸': ':star_of_david:',
		'ðŸ”¯': ':six_pointed_star:',
		'ðŸ•Ž': ':menorah:',
		'â˜¯ï¸': ':yin_yang:',
		'â˜¦ï¸': ':orthodox_cross:',
		'ðŸ›': ':place_of_worship:',
		'â›Ž': ':ophiuchus:',
		'â™ˆ': ':aries:',
		'â™‰': ':taurus:',
		'â™Š': ':gemini:',
		'â™‹': ':cancer:',
		'â™Œ': ':leo:',
		'â™': ':virgo:',
		'â™Ž': ':libra:',
		'â™': ':scorpius:',
		'â™': ':sagittarius:',
		'â™‘': ':capricorn:',
		'â™’': ':aquarius:',
		'â™“': ':pisces:',
		'ðŸ‘': ':thumbsup:',
		'ðŸ‘Ž': ':thumbsdown:',
		'ðŸ‘': ':clap:',
		'ðŸ™Œ': ':raised_hands:',
		'ðŸ‘': ':open_hands:',
		'ðŸ¤': ':handshake:',
		'ðŸ™': ':pray:',
		'âœŒï¸': ':v:',
		'ðŸ¤ž': ':crossed_fingers:',
		'ðŸ¤Ÿ': ':love_you_gesture:',
		'ðŸ¤˜': ':metal:',
		'ðŸ¤™': ':call_me_hand:',
		'ðŸ‘Œ': ':ok_hand:',
		'ðŸ¤': ':pinching_hand:',
		'ðŸ‘ˆ': ':point_left:',
		'ðŸ‘‰': ':point_right:',
		'ðŸ‘†': ':point_up_2:',
		'ðŸ‘‡': ':point_down:',
		'â˜ï¸': ':point_up:',
		'âœ‹': ':raised_hand:',
		'ðŸ¤š': ':raised_back_of_hand:',
		'ðŸ–ï¸': ':raised_hand_with_fingers_splayed:',
		'ðŸ––': ':vulcan_salute:',
		'ðŸ‘‹': ':wave:',
		'ðŸ¤›': ':left_facing_fist:',
		'ðŸ¤œ': ':right_facing_fist:',
		'âœŠ': ':fist:',
		'ðŸ‘Š': ':facepunch:',
		'ðŸ¤²': ':palms_up_together:',
		'ðŸ’ª': ':muscle:',
		'ðŸ¦¾': ':mechanical_arm:',
		'ðŸ¦¿': ':mechanical_leg:',
		'ðŸ¦µ': ':leg:',
		'ðŸ¦¶': ':foot:',
		'ðŸ‘‚': ':ear:',
		'ðŸ¦»': ':ear_with_hearing_aid:',
		'ðŸ‘ƒ': ':nose:',
		'ðŸ§ ': ':brain:',
		'ðŸ¦·': ':tooth:',
		'ðŸ¦´': ':bone:',
		'ðŸ‘€': ':eyes:',
		'ðŸ‘ï¸': ':eye:',
		'ðŸ‘…': ':tongue:',
		'ðŸ‘„': ':lips:',
		'ðŸ”¥': ':fire:',
		'ðŸ’¯': ':100:',
		'âœ¨': ':sparkles:',
		'â­': ':star:',
		'ðŸŒŸ': ':star2:',
		'ðŸ’«': ':dizzy:',
		'ðŸŽ‰': ':tada:',
		'ðŸŽŠ': ':confetti_ball:',
		'ðŸŽˆ': ':balloon:',
		'ðŸŽ': ':gift:',
		'ðŸ†': ':trophy:',
		'ðŸ¥‡': ':first_place_medal:',
		'ðŸ¥ˆ': ':second_place_medal:',
		'ðŸ¥‰': ':third_place_medal:',
		'âš½': ':soccer:',
		'âš¾': ':baseball:',
		'ðŸ¥Ž': ':softball:',
		'ðŸ€': ':basketball:',
		'ðŸ': ':volleyball:',
		'ðŸˆ': ':football:',
		'ðŸ‰': ':rugby_football:',
		'ðŸŽ¾': ':tennis:',
		'ðŸ¥': ':flying_disc:',
		'ðŸŽ³': ':bowling:',
		'ðŸ': ':cricket:',
		'ðŸ‘': ':field_hockey:',
		'ðŸ’': ':ice_hockey:',
		'ðŸ¥': ':lacrosse:',
		'ðŸ“': ':ping_pong:',
		'ðŸ¸': ':badminton:',
		'ðŸ¥Š': ':boxing_glove:',
		'ðŸ¥‹': ':martial_arts_uniform:',
		'ðŸ¥…': ':goal_net:',
		'â›³': ':golf:',
		'â›¸ï¸': ':ice_skate:',
		'ðŸŽ£': ':fishing_pole_and_fish:',
		'ðŸ¤¿': ':diving_mask:',
		'ðŸŽ¿': ':ski:',
		'ðŸ›·': ':sled:',
		'ðŸ¥Œ': ':curling_stone:',
		'ðŸŽ¯': ':dart:',
		'ðŸª€': ':yo_yo:',
		'ðŸª': ':kite:',
		'ðŸŽ±': ':8ball:',
		'ðŸ”®': ':crystal_ball:',
		'ðŸª„': ':magic_wand:',
		'ðŸŽ®': ':video_game:',
		'ðŸ•¹ï¸': ':joystick:',
		'ðŸŽ°': ':slot_machine:',
		'ðŸŽ²': ':game_die:',
		'ðŸ§©': ':jigsaw:',
		'ðŸ§¸': ':teddy_bear:',
		'ðŸª…': ':pinata:',
		'ðŸª†': ':nesting_dolls:',
		'â™ ï¸': ':spades:',
		'â™¥ï¸': ':hearts:',
		'â™¦ï¸': ':diamonds:',
		'â™£ï¸': ':clubs:',
		'â™Ÿï¸': ':chess_pawn:',
		'ðŸƒ': ':black_joker:',
		'ðŸ€„': ':mahjong:',
		'ðŸŽ´': ':flower_playing_cards:',
		'ðŸŽ­': ':performing_arts:',
		'ðŸ–¼ï¸': ':framed_picture:',
		'ðŸŽ¨': ':art:',
		'ðŸ§µ': ':thread:',
		'ðŸª¡': ':sewing_needle:',
		'ðŸ§¶': ':yarn:'
	};

	try {
		let result = input.text;

		// Sort by emoji length (longer first) to handle multi-character emojis
		const sortedEmojis = Object.keys(emojiMap).sort((a, b) => b.length - a.length);

		for (const emoji of sortedEmojis) {
			result = result.split(emoji).join(emojiMap[emoji]);
		}

		input.text = result;
	} catch (error) {
		input.postError('Failed to convert emoji to shortcodes: ' + error.message);
	}
}
